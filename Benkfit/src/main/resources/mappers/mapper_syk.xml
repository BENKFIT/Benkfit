<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper
	PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
	
<mapper namespace="spring.mvc.benkfit.persistence.DAO_syk">

	<!-- 예금상품목록 -->
	<select id="cheqList" resultType="spring.mvc.benkfit.vo.CheqProductVO">
		SELECT cheq_num, cheq_name, cheq_rate, cheq_type, cheq_target, cheq_regDate, cheq_limit, cheq_period 
		FROM cheqproduct_tbl
		ORDER BY cheq_num DESC
	</select>
	
	<!-- 적금상품목록 -->
	<select id="savList" resultType="spring.mvc.benkfit.vo.SavProductVO">
		SELECT sav_num, sav_name , sav_limit , sav_period , sav_target, sav_rate, sav_period
		FROM savproduct_tbl
		ORDER BY sav_num DESC
	</select>
	
	<!-- 예금정보 -->
	<select id="cheqInfo" resultType="spring.mvc.benkfit.vo.CheqProductVO" parameterType="String">
		SELECT cheq_num, cheq_name, cheq_rate, cheq_type, cheq_target, cheq_regDate, cheq_limit, cheq_period
		FROM cheqproduct_tbl
		WHERE cheq_num = #{num}
	</select>
	
	<!-- 적금정보 -->
	<select id="savInfo" parameterType="String" resultType="spring.mvc.benkfit.vo.SavProductVO">
		SELECT sav_num, sav_name , sav_limit , sav_period , sav_target, sav_rate
		FROM savProduct_tbl
		WHERE sav_num = #{num}
	</select>

	<!-- 예금상품등록 -->
	<insert id="RegiCheq" parameterType="spring.mvc.benkfit.vo.CheqProductVO">
		INSERT INTO cheqproduct_tbl(cheq_num, cheq_name, cheq_rate, cheq_type, cheq_target, cheq_limit, cheq_period)
		VALUES(cheqPro_seq.nextval, #{cheq_name}, #{cheq_rate}, #{cheq_type}, #{cheq_target}, #{cheq_limit}, #{cheq_period})
	</insert>
	
	<!-- 적금상품등록 -->
	<insert id="RegiSaving" parameterType="spring.mvc.benkfit.vo.CheqProductVO">
		INSERT INTO savProduct_tbl(sav_num, sav_name , sav_limit , sav_period , sav_target, sav_rate, sav_autotrans)
		VALUES(savPro_seq.nextval, #{sav_name}, #{sav_limit}, #{sav_period}, #{sav_target}, #{sav_rate}, #{sav_autotrans})
	</insert>
	
	<!-- 예금계좌생성 -->
	<insert id="createCheq" parameterType="java.util.Map">
		INSERT INTO myCheqAccount_tbl(myCheq_account, myCheq_pwd ,cheq_num, c_id)
		VALUES(#{account}, #{pwd}, #{num}, #{id})
	</insert>
	
	<!-- 적금계좌생성 -->
	<insert id="createSav" parameterType="java.util.Map">
		INSERT INTO mySavAccount_tbl(mySav_account, mySav_account, sav_num, c_id)
		VALUES(#{account}, #{pwd}, #{num}, #{id})
	</insert>
	
	<!-- 예금상품삭제 -->
	<delete id="cheqDel" parameterType="String">
		DELETE cheqProduct_tbl
		WHERE cheq_num = #{num}
	</delete>
	
	<!-- 적금상품삭제 -->
	<delete id="savDel" parameterType="String">
		DELETE savProduct_tbl
		WHERE sav_num = #{num}
	</delete>
	
</mapper>
